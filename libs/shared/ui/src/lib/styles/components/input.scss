@use '../base/variable';

.input {
  @apply relative min-h-[52px] cursor-pointer rounded-md border border-neutral-component bg-surface-neutral px-3 py-2 hover:bg-surface-neutral-component;
  transition:
    120ms all variable.$timing-cubic,
    0 outline;

  label {
    @apply absolute translate-y-2 select-none text-sm text-neutral-subtle transition-label duration-[120ms] ease-in-out;
  }

  input:focus,
  textarea:focus {
    outline: none;
  }

  &.input--focused:not(.input--error),
  .input__button--focused {
    @apply border-brand-strong;

    input,
    textarea {
      outline: none;
    }
  }
}

.input--small {
  @apply relative h-9 min-h-[36px];
}

.input__value {
  @apply absolute bottom-[7px] left-0 w-full appearance-none bg-transparent px-3 text-sm text-neutral ring-0;
}

.input__value[type='time'] {
  overflow: visible;
  color: transparent;
}

.input-file-icon {
  color: theme('textColor.neutral.disabled');
}

.input--focused,
.input__button--focused {
  outline: 2px solid var(--brand-4);
  label {
    @apply translate-y-0 text-xs;
  }
}

.input--label-up {
  label {
    @apply translate-y-0 text-xs;
  }
  .input__value[type='time'] {
    @apply text-neutral;
  }
}

.input--filter {
  min-height: theme('space.7');
  height: theme('space.7');
  padding: theme('space.2');
  @apply bg-surface-neutral-component;
  padding-top: 0;
  border-color: transparent;

  .input-select__value-container {
    margin-top: 0;
    top: 0;
  }

  .input-select__menu {
    width: 296px !important;
    margin-top: theme('space.2') !important;
  }

  .input-select__placeholder {
    @apply text-neutral-disabled;
    display: block !important;
    font-size: theme('fontSize.ssm') !important;
    font-weight: 400;
  }
}

.input--disabled {
  @apply pointer-events-none border-neutral bg-surface-neutral-subtle;
  box-shadow: none !important;

  label {
    @apply text-neutral-disabled;
  }

  .input__button--focused {
    box-shadow: none;
  }
}

.input--error,
.input--error .input__button {
  @apply border-negative-strong;
  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.05);

  &:hover {
    @apply border-negative-strong;
  }
}

.input--error.input--focused {
  outline: 2px solid var(--negative-4);
}

.input--success {
  @apply border-positive-strong;
  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.05);
}

.input__label {
  @apply h-full w-full;
}

.input__button {
  @apply relative flex h-full min-h-[52px] w-full cursor-pointer flex-col rounded border px-4 py-2 outline-none focus-visible:outline-none;
  transition: 120ms all variable.$timing-cubic;

  &:hover,
  &:focus,
  &[aria-expanded='true'] {
    @apply border-brand-strong;
    box-shadow: 0 2px 2px rgba(0, 0, 0, 0.05);
  }
}

.input__list {
  @apply pointer-events-auto mt-2 max-h-96 w-full list-none overflow-scroll rounded border-neutral bg-white p-2 text-neutral focus-within:outline-none;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);

  ul {
    outline: 0;
  }
}

.input__item {
  @apply mb-1 cursor-pointer select-none rounded px-3 py-2 text-sm font-medium text-neutral last:mb-0 hover:bg-surface-neutral-component hover:text-neutral;

  &.is-active,
  &[data-current-selected],
  &[data-current-nav] {
    @apply bg-surface-neutral-component text-neutral;
  }
}

.input__arrow {
  @apply absolute right-4 top-1/2 -translate-y-1/2 text-sm text-neutral;
}

// time
input[type='time'],
input[type='date'],
input[type='datetime'] {
  &::-webkit-calendar-picker-indicator {
    background: none;
  }
  &::-webkit-datetime-edit-ampm-field {
    display: none;
  }
  &::-webkit-clear-button {
    -webkit-appearance: none;
    -moz-appearance: none;
    -o-appearance: none;
    -ms-appearance: none;
    appearance: none;
    margin: -10px;
  }
}

input[type='number'] {
  // remove the chrome widget for number input
  -moz-appearance: textfield;

  &::-webkit-outer-spin-button,
  &::-webkit-inner-spin-button {
    -webkit-appearance: none;
  }
}
